<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Notes,">





  <link rel="alternate" href="/atom.xml" title="Oerrol的博客" type="application/atom+xml">






<meta name="description" content="安装1.前往PCL的发布页面，选择适当的版本进行下载。注意win32/win64版本对应的是编译器，我是win10X64，编译的是32位程序，因此下载最新版的PCL-1.9.1-AllInOne-msvc2017-win32.exe和pcl-1.9.1-pdb-msvc2017-win32.zip  https://github.com/PointCloudLibrary/pcl/releases">
<meta name="keywords" content="Notes">
<meta property="og:type" content="article">
<meta property="og:title" content="Windows下VS2017+PCL1.9.1配置">
<meta property="og:url" content="http://oerrol.github.io/2019/03/20/20190320/index.html">
<meta property="og:site_name" content="Oerrol的博客">
<meta property="og:description" content="安装1.前往PCL的发布页面，选择适当的版本进行下载。注意win32/win64版本对应的是编译器，我是win10X64，编译的是32位程序，因此下载最新版的PCL-1.9.1-AllInOne-msvc2017-win32.exe和pcl-1.9.1-pdb-msvc2017-win32.zip  https://github.com/PointCloudLibrary/pcl/releases">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://oerrol.github.io/assets/img/PCL191/PATH.png">
<meta property="og:image" content="http://oerrol.github.io/assets/img/PCL191/INCLUDES.png">
<meta property="og:image" content="http://oerrol.github.io/assets/img/PCL191/LIBS.png">
<meta property="og:image" content="http://oerrol.github.io/assets/img/PCL191/PRE.png">
<meta property="og:image" content="http://oerrol.github.io/assets/img/PCL191/BUNNY.png">
<meta property="og:updated_time" content="2020-07-21T11:32:20.147Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Windows下VS2017+PCL1.9.1配置">
<meta name="twitter:description" content="安装1.前往PCL的发布页面，选择适当的版本进行下载。注意win32/win64版本对应的是编译器，我是win10X64，编译的是32位程序，因此下载最新版的PCL-1.9.1-AllInOne-msvc2017-win32.exe和pcl-1.9.1-pdb-msvc2017-win32.zip  https://github.com/PointCloudLibrary/pcl/releases">
<meta name="twitter:image" content="http://oerrol.github.io/assets/img/PCL191/PATH.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://oerrol.github.io/2019/03/20/20190320/">





  <title>Windows下VS2017+PCL1.9.1配置 | Oerrol的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Oerrol的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Make a better world</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://oerrol.github.io/2019/03/20/20190320/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Oerrol Song">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Oerrol的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Windows下VS2017+PCL1.9.1配置</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-20T00:00:00+08:00">
                2019-03-20
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/03/20/20190320/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/03/20/20190320/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2019/03/20/20190320/" class="leancloud_visitors" data-flag-title="Windows下VS2017+PCL1.9.1配置">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>1.前往PCL的发布页面，选择适当的版本进行下载。注意win32/win64版本对应的是编译器，我是win10X64，编译的是32位程序，因此下载最新版的PCL-1.9.1-AllInOne-msvc2017-win32.exe和pcl-1.9.1-pdb-msvc2017-win32.zip</p>
<blockquote>
<p><a href="https://github.com/PointCloudLibrary/pcl/releases" target="_blank" rel="noopener">https://github.com/PointCloudLibrary/pcl/releases</a></p>
</blockquote>
<p><em>20200721 Ps. 笔者已改为面向X64编程，因此安装的是64位版本，安装与配置过程与32位版本无差异。</em></p>
<p>安装过程中可以直接下一步，会弹出OpenNI2的安装选项，最好选择安装在PCL库第三方功能3rdParty目录下，这样后面配置环境会相对方便。<a id="more"></a></p>
<p>2.拷贝与安装PCL版本对应的PDB压缩包解压后的PDB文件，到PCL安装路径下的bin文件夹</p>
<p>3.第三方依赖项环境变量配置。在PCL安装过程中，PCL的相关环境变量都已经配置好了，下面将第三方依赖项的环境变量进行配置。将</p>
<pre><code>%PCL_ROOT%\bin;%PCL_ROOT%\3rdParty\FLANN\bin;%PCL_ROOT%\3rdParty\VTK\bin;%PCL_ROOT%\Qhull\bin;%PCL_ROOT%\3rdParty\OpenNI2\Tools
</code></pre><p>添加到系统变量Path下<br><img src="/assets/img/PCL191/PATH.png" alt="PATH"><br>重启计算机。</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>1.新建项目</p>
<p>2.右键项目属性，设置包含目录<br><img src="/assets/img/PCL191/INCLUDES.png" alt="INCLUDES"></p>
<p>3.设置库目录<br><img src="/assets/img/PCL191/LIBS.png" alt="LIBS"></p>
<p>4.添加预处理器信息，这是因为PCL中用到了很多被VS2017认为不安全的方法，需要添加预处理器信息跳过报警，否则无法正常编译<br><img src="/assets/img/PCL191/PRE.png" alt="PRE"></p>
<p>5.在C/C++-&gt;所有选项-&gt;SDL检查改为否</p>
<p>6.附加依赖项。将所有PCL的“.lib”文件和VTK的”.lib”文件添加至附加依赖项。<br>DEBUG版本列表如下（对应PCL1.9.1+VTK8.1)</p>
<pre><code>pcl_common_debug.lib
pcl_features_debug.lib
pcl_filters_debug.lib
pcl_io_debug.lib
pcl_io_ply_debug.lib
pcl_kdtree_debug.lib
pcl_keypoints_debug.lib
pcl_ml_debug.lib
pcl_octree_debug.lib
pcl_outofcore_debug.lib
pcl_people_debug.lib
pcl_recognition_debug.lib
pcl_registration_debug.lib
pcl_sample_consensus_debug.lib
pcl_search_debug.lib
pcl_segmentation_debug.lib
pcl_stereo_debug.lib
pcl_surface_debug.lib
pcl_tracking_debug.lib
pcl_visualization_debug.lib
vtkalglib-8.1-gd.lib
vtkChartsCore-8.1-gd.lib
vtkCommonColor-8.1-gd.lib
vtkCommonComputationalGeometry-8.1-gd.lib
vtkCommonCore-8.1-gd.lib
vtkCommonDataModel-8.1-gd.lib
vtkCommonExecutionModel-8.1-gd.lib
vtkCommonMath-8.1-gd.lib
vtkCommonMisc-8.1-gd.lib
vtkCommonSystem-8.1-gd.lib
vtkCommonTransforms-8.1-gd.lib
vtkDICOMParser-8.1-gd.lib
vtkDomainsChemistry-8.1-gd.lib
vtkexoIIc-8.1-gd.lib
vtkexpat-8.1-gd.lib
vtkFiltersAMR-8.1-gd.lib
vtkFiltersCore-8.1-gd.lib
vtkFiltersExtraction-8.1-gd.lib
vtkFiltersFlowPaths-8.1-gd.lib
vtkFiltersGeneral-8.1-gd.lib
vtkFiltersGeneric-8.1-gd.lib
vtkFiltersGeometry-8.1-gd.lib
vtkFiltersHybrid-8.1-gd.lib
vtkFiltersHyperTree-8.1-gd.lib
vtkFiltersImaging-8.1-gd.lib
vtkFiltersModeling-8.1-gd.lib
vtkFiltersParallel-8.1-gd.lib
vtkFiltersParallelImaging-8.1-gd.lib
vtkFiltersPoints-8.1-gd.lib
vtkFiltersProgrammable-8.1-gd.lib
vtkFiltersSelection-8.1-gd.lib
vtkFiltersSMP-8.1-gd.lib
vtkFiltersSources-8.1-gd.lib
vtkFiltersStatistics-8.1-gd.lib
vtkFiltersTexture-8.1-gd.lib
vtkFiltersTopology-8.1-gd.lib
vtkFiltersVerdict-8.1-gd.lib
vtkfreetype-8.1-gd.lib
vtkGeovisCore-8.1-gd.lib
vtkgl2ps-8.1-gd.lib
vtkhdf5-8.1-gd.lib
vtkhdf5_hl-8.1-gd.lib
vtkImagingColor-8.1-gd.lib
vtkImagingCore-8.1-gd.lib
vtkImagingFourier-8.1-gd.lib
vtkImagingGeneral-8.1-gd.lib
vtkImagingHybrid-8.1-gd.lib
vtkImagingMath-8.1-gd.lib
vtkImagingMorphological-8.1-gd.lib
vtkImagingSources-8.1-gd.lib
vtkImagingStatistics-8.1-gd.lib
vtkImagingStencil-8.1-gd.lib
vtkInfovisCore-8.1-gd.lib
vtkInfovisLayout-8.1-gd.lib
vtkInteractionImage-8.1-gd.lib
vtkInteractionStyle-8.1-gd.lib
vtkInteractionWidgets-8.1-gd.lib
vtkIOAMR-8.1-gd.lib
vtkIOCore-8.1-gd.lib
vtkIOEnSight-8.1-gd.lib
vtkIOExodus-8.1-gd.lib
vtkIOExport-8.1-gd.lib
vtkIOExportOpenGL-8.1-gd.lib
vtkIOGeometry-8.1-gd.lib
vtkIOImage-8.1-gd.lib
vtkIOImport-8.1-gd.lib
vtkIOInfovis-8.1-gd.lib
vtkIOLegacy-8.1-gd.lib
vtkIOLSDyna-8.1-gd.lib
vtkIOMINC-8.1-gd.lib
vtkIOMovie-8.1-gd.lib
vtkIONetCDF-8.1-gd.lib
vtkIOParallel-8.1-gd.lib
vtkIOParallelXML-8.1-gd.lib
vtkIOPLY-8.1-gd.lib
vtkIOSQL-8.1-gd.lib
vtkIOTecplotTable-8.1-gd.lib
vtkIOVideo-8.1-gd.lib
vtkIOXML-8.1-gd.lib
vtkIOXMLParser-8.1-gd.lib
vtkjpeg-8.1-gd.lib
vtkjsoncpp-8.1-gd.lib
vtklibharu-8.1-gd.lib
vtklibxml2-8.1-gd.lib
vtklz4-8.1-gd.lib
vtkmetaio-8.1-gd.lib
vtkNetCDF-8.1-gd.lib
vtknetcdfcpp-8.1-gd.lib
vtkoggtheora-8.1-gd.lib
vtkParallelCore-8.1-gd.lib
vtkpng-8.1-gd.lib
vtkproj4-8.1-gd.lib
vtkRenderingAnnotation-8.1-gd.lib
vtkRenderingContext2D-8.1-gd.lib
vtkRenderingContextOpenGL-8.1-gd.lib
vtkRenderingCore-8.1-gd.lib
vtkRenderingFreeType-8.1-gd.lib
vtkRenderingGL2PS-8.1-gd.lib
vtkRenderingImage-8.1-gd.lib
vtkRenderingLabel-8.1-gd.lib
vtkRenderingLIC-8.1-gd.lib
vtkRenderingLOD-8.1-gd.lib
vtkRenderingOpenGL-8.1-gd.lib
vtkRenderingVolume-8.1-gd.lib
vtkRenderingVolumeOpenGL-8.1-gd.lib
vtksqlite-8.1-gd.lib
vtksys-8.1-gd.lib
vtktiff-8.1-gd.lib
vtkverdict-8.1-gd.lib
vtkViewsContext2D-8.1-gd.lib
vtkViewsCore-8.1-gd.lib
vtkViewsInfovis-8.1-gd.lib
vtkzlib-8.1-gd.lib
</code></pre><p>Release版本：</p>
<pre><code>pcl_common_release.lib
pcl_features_release.lib
pcl_filters_release.lib
pcl_io_ply_release.lib
pcl_io_release.lib
pcl_kdtree_release.lib
pcl_keypoints_release.lib
pcl_ml_release.lib
pcl_octree_release.lib
pcl_outofcore_release.lib
pcl_people_release.lib
pcl_recognition_release.lib
pcl_registration_release.lib
pcl_sample_consensus_release.lib
pcl_search_release.lib
pcl_segmentation_release.lib
pcl_stereo_release.lib
pcl_surface_release.lib
pcl_tracking_release.lib
pcl_visualization_release.lib
vtkalglib-8.1.lib
vtkChartsCore-8.1.lib
vtkCommonColor-8.1.lib
vtkCommonComputationalGeometry-8.1.lib
vtkCommonCore-8.1.lib
vtkCommonDataModel-8.1.lib
vtkCommonExecutionModel-8.1.lib
vtkCommonMath-8.1.lib
vtkCommonMisc-8.1.lib
vtkCommonSystem-8.1.lib
vtkCommonTransforms-8.1.lib
vtkDICOMParser-8.1.lib
vtkDomainsChemistry-8.1.lib
vtkexoIIc-8.1.lib
vtkexpat-8.1.lib
vtkFiltersAMR-8.1.lib
vtkFiltersCore-8.1.lib
vtkFiltersExtraction-8.1.lib
vtkFiltersFlowPaths-8.1.lib
vtkFiltersGeneral-8.1.lib
vtkFiltersGeneric-8.1.lib
vtkFiltersGeometry-8.1.lib
vtkFiltersHybrid-8.1.lib
vtkFiltersHyperTree-8.1.lib
vtkFiltersImaging-8.1.lib
vtkFiltersModeling-8.1.lib
vtkFiltersParallel-8.1.lib
vtkFiltersParallelImaging-8.1.lib
vtkFiltersPoints-8.1.lib
vtkFiltersProgrammable-8.1.lib
vtkFiltersSelection-8.1.lib
vtkFiltersSMP-8.1.lib
vtkFiltersSources-8.1.lib
vtkFiltersStatistics-8.1.lib
vtkFiltersTexture-8.1.lib
vtkFiltersTopology-8.1.lib
vtkFiltersVerdict-8.1.lib
vtkfreetype-8.1.lib
vtkGeovisCore-8.1.lib
vtkgl2ps-8.1.lib
vtkhdf5-8.1.lib
vtkhdf5_hl-8.1.lib
vtkImagingColor-8.1.lib
vtkImagingCore-8.1.lib
vtkImagingFourier-8.1.lib
vtkImagingGeneral-8.1.lib
vtkImagingHybrid-8.1.lib
vtkImagingMath-8.1.lib
vtkImagingMorphological-8.1.lib
vtkImagingSources-8.1.lib
vtkImagingStatistics-8.1.lib
vtkImagingStencil-8.1.lib
vtkInfovisCore-8.1.lib
vtkInfovisLayout-8.1.lib
vtkInteractionImage-8.1.lib
vtkInteractionStyle-8.1.lib
vtkInteractionWidgets-8.1.lib
vtkIOAMR-8.1.lib
vtkIOCore-8.1.lib
vtkIOEnSight-8.1.lib
vtkIOExodus-8.1.lib
vtkIOExport-8.1.lib
vtkIOExportOpenGL-8.1.lib
vtkIOGeometry-8.1.lib
vtkIOImage-8.1.lib
vtkIOImport-8.1.lib
vtkIOInfovis-8.1.lib
vtkIOLegacy-8.1.lib
vtkIOLSDyna-8.1.lib
vtkIOMINC-8.1.lib
vtkIOMovie-8.1.lib
vtkIONetCDF-8.1.lib
vtkIOParallel-8.1.lib
vtkIOParallelXML-8.1.lib
vtkIOPLY-8.1.lib
vtkIOSQL-8.1.lib
vtkIOTecplotTable-8.1.lib
vtkIOVideo-8.1.lib
vtkIOXML-8.1.lib
vtkIOXMLParser-8.1.lib
vtkjpeg-8.1.lib
vtkjsoncpp-8.1.lib
vtklibharu-8.1.lib
vtklibxml2-8.1.lib
vtklz4-8.1.lib
vtkmetaio-8.1.lib
vtkNetCDF-8.1.lib
vtknetcdfcpp-8.1.lib
vtkoggtheora-8.1.lib
vtkParallelCore-8.1.lib
vtkpng-8.1.lib
vtkproj4-8.1.lib
vtkRenderingAnnotation-8.1.lib
vtkRenderingContext2D-8.1.lib
vtkRenderingContextOpenGL-8.1.lib
vtkRenderingCore-8.1.lib
vtkRenderingFreeType-8.1.lib
vtkRenderingGL2PS-8.1.lib
vtkRenderingImage-8.1.lib
vtkRenderingLabel-8.1.lib
vtkRenderingLIC-8.1.lib
vtkRenderingLOD-8.1.lib
vtkRenderingOpenGL-8.1.lib
vtkRenderingVolume-8.1.lib
vtkRenderingVolumeOpenGL-8.1.lib
vtksqlite-8.1.lib
vtksys-8.1.lib
vtktiff-8.1.lib
vtkverdict-8.1.lib
vtkViewsContext2D-8.1.lib
vtkViewsCore-8.1.lib
vtkViewsInfovis-8.1.lib
vtkzlib-8.1.lib
</code></pre><h2 id="DEMO"><a href="#DEMO" class="headerlink" title="DEMO"></a>DEMO</h2><p>新建main.cpp，代码如下：</p>
<pre><code>#include &lt;pcl/visualization/cloud_viewer.h&gt;
#include &lt;iostream&gt;//标准C++库中的输入输出类相关头文件。
#include &lt;pcl/io/io.h&gt;
#include &lt;pcl/io/pcd_io.h&gt;//pcd 读写类相关的头文件。
#include &lt;pcl/io/ply_io.h&gt;
#include &lt;pcl/point_types.h&gt; //PCL中支持的点类型头文件。
#include&lt;fstream&gt;  
#include &lt;string&gt;  
#include &lt;vector&gt; 

using namespace std;

int main()
{
    typedef struct tagPOINT_3D
    {
        double x;  //mm world coordinate x  
        double y;  //mm world coordinate y  
        double z;  //mm world coordinate z  
        double r;
    }POINT_WORLD;


    //加载txt数据  
    int number_Txt;
    FILE *fp_txt;
    tagPOINT_3D TxtPoint;
    vector&lt;tagPOINT_3D&gt; m_vTxtPoints;
    fp_txt = fopen(&quot;test.txt&quot;, &quot;r&quot;);
    if (fp_txt)
    {
        while (fscanf(fp_txt, &quot;%lf %lf %lf&quot;, &amp;TxtPoint.x, &amp;TxtPoint.y, &amp;TxtPoint.z) != EOF)
        {
            m_vTxtPoints.push_back(TxtPoint);
        }
    }
    else
        cout &lt;&lt; &quot;txt数据加载失败！&quot; &lt;&lt; endl;
    number_Txt = m_vTxtPoints.size();
    //pcl::PointCloud&lt;pcl::PointXYZ&gt; cloud;
    //这里使用“PointXYZ”是因为我后面给的点云信息是包含的三维坐标，同时还有点云信息包含的rgb颜色信息的或者还有包含rgba颜色和强度信息。
    pcl::PointCloud&lt;pcl::PointXYZ&gt;::Ptr cloud(new pcl::PointCloud&lt;pcl::PointXYZ&gt;);
    // Fill in the cloud data  
    cloud-&gt;width = number_Txt;
    cloud-&gt;height = 1;
    cloud-&gt;is_dense = false;
    cloud-&gt;points.resize(cloud-&gt;width * cloud-&gt;height);
    for (size_t i = 0; i &lt; cloud-&gt;points.size(); ++i)
    {
        cloud-&gt;points[i].x = m_vTxtPoints[i].x;
        cloud-&gt;points[i].y = m_vTxtPoints[i].y;
        cloud-&gt;points[i].z = m_vTxtPoints[i].z;
    }
    pcl::io::savePCDFileASCII(&quot;txt2pcd_bunny1.pcd&quot;, *cloud);
    std::cerr &lt;&lt; &quot;Saved &quot; &lt;&lt; cloud-&gt;points.size() &lt;&lt; &quot; data points to txt2pcd.pcd.&quot; &lt;&lt; std::endl;

    //for (size_t i = 0; i &lt; cloud.points.size(); ++i)
    //  std::cerr &lt;&lt; &quot;&quot; &lt;&lt; cloud.points[i].x &lt;&lt; &quot; &quot; &lt;&lt; cloud.points[i].y &lt;&lt; &quot; &quot; &lt;&lt; cloud.points[i].z &lt;&lt; std::endl;

    //PCL Visualizer
    // Viewer  
    pcl::visualization::PCLVisualizer viewer(&quot;Cloud Viewer&quot;);
    viewer.addPointCloud(cloud);
    viewer.setBackgroundColor(0, 0, 0);

    viewer.spin();
    system(&quot;pause&quot;);
    return 0;

}
</code></pre><p>在解决方案目录下新建一个文本文件，命名为“test.txt”，复制如下代码：</p>
<pre><code>0.0054216 0.11349 0.040749
-0.0017447 0.11425 0.041273
-0.010661 0.11338 0.040916
0.026422 0.11499 0.032623
0.024545 0.12284 0.024255
0.034137 0.11316 0.02507
0.02886 0.11773 0.027037
0.02675 0.12234 0.017605
0.03575 0.1123 0.019109
0.015982 0.12307 0.031279
0.0079813 0.12438 0.032798
0.018101 0.11674 0.035493
0.0086687 0.11758 0.037538
0.01808 0.12536 0.026132
0.0080861 0.12866 0.02619
0.02275 0.12146 0.029671
-0.0018689 0.12456 0.033184
-0.011168 0.12376 0.032519
-0.0020063 0.11937 0.038104
-0.01232 0.11816 0.037427
-0.0016659 0.12879 0.026782
-0.011971 0.12723 0.026219
0.016484 0.12828 0.01928
0.0070921 0.13103 0.018415
0.0014615 0.13134 0.017095
-0.013821 0.12886 0.019265
-0.01725 0.11202 0.040077
-0.074556 0.13415 0.051046
-0.065971 0.14396 0.04109
-0.071925 0.14545 0.043266
-0.06551 0.13624 0.042195
-0.071112 0.13767 0.047518
-0.079528 0.13416 0.051194
-0.080421 0.14428 0.042793
-0.082672 0.1378 0.046806
-0.08813 0.13514 0.042222
-0.066325 0.12347 0.050729
-0.072399 0.12662 0.052364
-0.066091 0.11973 0.050881
-0.072012 0.11811 0.052295
-0.062433 0.12627 0.043831
-0.068326 0.12998 0.048875
-0.063094 0.11811 0.044399
-0.071301 0.11322 0.04841
-0.080515 0.12741 0.052034
-0.078179 0.1191 0.051116
-0.085216 0.12609 0.049001
-0.089538 0.12621 0.044589
-0.082659 0.11661 0.04797
-0.089536 0.11784 0.04457
-0.0565 0.15248 0.030132
-0.055517 0.15313 0.026915
-0.03625 0.17198 0.00017688
-0.03775 0.17198 0.00022189
-0.03625 0.16935 0.00051958
-0.033176 0.15711 0.0018682
-0.051913 0.1545 0.011273
-0.041707 0.16642 0.0030522
-0.049468 0.16414 0.0041988
-0.041892 0.15669 0.0054879
-0.051224 0.15878 0.0080283
-0.062417 0.15317 0.033161
-0.07167 0.15319 0.033701
-0.062543 0.15524 0.027405
-0.07211 0.1555 0.027645
-0.078663 0.15269 0.032268
-0.081569 0.15374 0.026085
-0.08725 0.1523 0.022135
-0.05725 0.15568 0.010325
-0.057888 0.1575 0.0073225
-0.0885 0.15223 0.019215
-0.056129 0.14616 0.03085
-0.054705 0.13555 0.032127
-0.054144 0.14714 0.026275
-0.046625 0.13234 0.021909
-0.05139 0.13694 0.025787
-0.018278 0.12238 0.030773
-0.021656 0.11643 0.035209
-0.031921 0.11566 0.032851
-0.021348 0.12421 0.024562
-0.03241 0.12349 0.023293
-0.024869 0.12094 0.028745
-0.031747 0.12039 0.028229
-0.052912 0.12686 0.034968
-0.041672 0.11564 0.032998
-0.052037 0.1168 0.034582
-0.042495 0.12488 0.024082
-0.047946 0.12736 0.028108
-0.042421 0.12035 0.028633
-0.047661 0.12024 0.028871
-0.035964 0.1513 0.0005395
-0.050598 0.1474 0.013881
-0.046375 0.13293 0.018289
-0.049125 0.13856 0.016269
-0.042976 0.14915 0.0054003
-0.047965 0.14659 0.0086783
-0.022926 0.1263 0.018077
-0.031583 0.1259 0.017804
-0.041733 0.12796 0.01665
-0.061482 0.14698 0.036168
-0.071729 0.15026 0.038328
-0.060526 0.1368 0.035999
-0.082619 0.14823 0.035955
-0.087824 0.14449 0.033779
-0.089 0.13828 0.037774
-0.085662 0.15095 0.028208
-0.089601 0.14725 0.025869
-0.090681 0.13748 0.02369
-0.058722 0.12924 0.038992
-0.060075 0.11512 0.037685
-0.091812 0.12767 0.038703
-0.091727 0.11657 0.039619
-0.093164 0.12721 0.025211
-0.093938 0.12067 0.024399
-0.091583 0.14522 0.01986
-0.090929 0.13667 0.019817
-0.093094 0.11635 0.018959
0.024948 0.10286 0.041418
0.0336 0.092627 0.040463
0.02742 0.096386 0.043312
0.03392 0.086911 0.041034
0.028156 0.086837 0.045084
0.03381 0.078604 0.040854
0.028125 0.076874 0.045059
0.0145 0.093279 0.05088
0.0074817 0.09473 0.052315
0.017407 0.10535 0.043139
0.0079536 0.10633 0.042968
0.018511 0.097194 0.047253
0.0086436 0.099323 0.048079
-0.0020197 0.095698 0.053906
-0.011446 0.095169 0.053862
-0.001875 0.10691 0.043455
-0.011875 0.10688 0.043019
-0.0017622 0.10071 0.046648
-0.012498 0.10008 0.045916
0.016381 0.085894 0.051642
0.0081167 0.08691 0.055228
0.017644 0.076955 0.052372
0.008125 0.076853 0.055536
0.020575 0.088169 0.049006
0.022445 0.075721 0.049563
-0.0017931 0.086849 0.056843
-0.011943 0.086771 0.057009
-0.0019567 0.076863 0.057803
-0.011875 0.076964 0.057022
0.03325 0.067541 0.040033
0.028149 0.066829 0.042953
0.026761 0.057829 0.042588
0.023571 0.04746 0.040428
0.015832 0.067418 0.051639
0.0080431 0.066902 0.055006
0.013984 0.058886 0.050416
0.0080973 0.056888 0.05295
0.020566 0.065958 0.0483
0.018594 0.056539 0.047879
0.012875 0.052652 0.049689
-0.0017852 0.066712 0.056503
-0.011785 0.066885 0.055015
-0.001875 0.056597 0.05441
-0.01184 0.057054 0.052714
-0.015688 0.052469 0.049615
0.0066154 0.04993 0.051259
0.018088 0.046655 0.043321
0.008841 0.045437 0.046623
0.017688 0.039719 0.043084
0.008125 0.039516 0.045374
-0.0016111 0.049844 0.05172
-0.01245 0.046773 0.050903
-0.013851 0.039778 0.051036
-0.0020294 0.044874 0.047587
-0.011653 0.04686 0.048661
-0.0018611 0.039606 0.047339
-0.0091545 0.03958 0.049415
0.043661 0.094028 0.02252
0.034642 0.10473 0.031831
0.028343 0.1072 0.036339
0.036339 0.096552 0.034843
0.031733 0.099372 0.038505
0.036998 0.10668 0.026781
0.032875 0.11108 0.02959
0.040938 0.097132 0.026663
0.044153 0.086466 0.024241
0.05375 0.072221 0.020429
0.04516 0.076574 0.023594
0.038036 0.086663 0.035459
0.037861 0.076625 0.035658
0.042216 0.087237 0.028254
0.042355 0.076747 0.02858
0.043875 0.096228 0.015269
0.044375 0.096797 0.0086445
0.039545 0.1061 0.017655
0.042313 0.10009 0.017237
0.045406 0.087417 0.015604
0.055118 0.072639 0.017944
0.048722 0.07376 0.017434
0.045917 0.086298 0.0094211
0.019433 0.1096 0.039063
0.01097 0.11058 0.039648
0.046657 0.057153 0.031337
0.056079 0.066335 0.024122
0.048168 0.06701 0.026298
0.056055 0.057253 0.024902
0.051163 0.056662 0.029137
0.036914 0.067032 0.036122
0.033 0.06472 0.039903
0.038004 0.056507 0.033119
0.030629 0.054915 0.038484
0.041875 0.066383 0.028357
0.041434 0.06088 0.029632
0.044921 0.049904 0.031243
0.054635 0.050167 0.022044
0.04828 0.04737 0.025845
0.037973 0.048347 0.031456
0.028053 0.047061 0.035991
0.025595 0.040346 0.03415
0.038455 0.043509 0.028278
0.032031 0.043278 0.029253
0.036581 0.040335 0.025144
0.03019 0.039321 0.026847
0.059333 0.067891 0.017361
0.0465 0.071452 0.01971
0.059562 0.057747 0.01834
0.055636 0.049199 0.019173
0.0505 0.045064 0.019181
0.023 0.047803 0.039776
0.022389 0.03886 0.038795
-0.019545 0.0939 0.052205
-0.021462 0.10618 0.042059
-0.031027 0.10395 0.041228
-0.022521 0.097723 0.045194
-0.031858 0.097026 0.043878
-0.043262 0.10412 0.040891
-0.052154 0.10404 0.040972
-0.041875 0.096944 0.042424
-0.051919 0.096967 0.043563
-0.021489 0.086672 0.054767
-0.027 0.083087 0.050284
-0.02107 0.077249 0.054365
-0.026011 0.089634 0.048981
-0.031893 0.087035 0.044169
-0.025625 0.074892 0.047102
-0.03197 0.0769 0.042177
-0.041824 0.086954 0.043295
-0.051825 0.086844 0.044933
-0.041918 0.076728 0.042564
-0.051849 0.076877 0.042992
-0.061339 0.10393 0.041164
-0.072672 0.10976 0.044294
-0.061784 0.096825 0.043327
-0.070058 0.096203 0.041397
-0.080439 0.11091 0.044343
-0.061927 0.086724 0.04452
-0.070344 0.087352 0.041908
-0.06141 0.077489 0.042178
-0.068579 0.080144 0.041024
-0.019045 0.067732 0.052388
-0.017742 0.058909 0.050809
-0.023548 0.066382 0.045226
-0.03399 0.067795 0.040929
-0.02169 0.056549 0.045164
-0.036111 0.060706 0.040407
-0.041231 0.066951 0.041392
-0.048588 0.070956 0.040357
-0.0403 0.059465 0.040446
-0.02192 0.044965 0.052258
-0.029187 0.043585 0.051088
-0.021919 0.039826 0.053521
-0.030331 0.039749 0.052133
-0.021998 0.049847 0.046725
-0.031911 0.046848 0.045187
-0.035276 0.039753 0.047529
-0.042016 0.044823 0.041594
-0.05194 0.044707 0.043498
-0.041928 0.039327 0.043582
-0.051857 0.039252 0.046212
-0.059453 0.04424 0.042862
-0.060765 0.039087 0.044363
-0.024273 0.11038 0.039129
-0.032379 0.10878 0.037952
-0.041152 0.10853 0.037969
-0.051698 0.10906 0.038258
-0.062091 0.10877 0.038274
-0.071655 0.10596 0.037516
-0.074634 0.097746 0.038347
-0.07912 0.10508 0.032308
-0.080203 0.096758 0.033592
-0.08378 0.10568 0.025985
-0.087292 0.10314 0.020825
-0.08521 0.097079 0.02781
-0.088082 0.096456 0.022985
-0.07516 0.08604 0.038816
-0.064577 0.073455 0.03897
-0.072279 0.076416 0.036413
-0.076375 0.072563 0.02873
-0.080031 0.087076 0.03429
-0.078919 0.079371 0.032477
-0.084834 0.086686 0.026974
-0.087891 0.089233 0.022611
-0.081048 0.077169 0.025829
-0.086393 0.10784 0.018635
-0.087672 0.10492 0.017264
-0.089333 0.098483 0.01761
-0.086375 0.083067 0.018607
-0.089179 0.089186 0.018947
-0.082879 0.076109 0.017794
-0.0825 0.074674 0.0071175
-0.026437 0.064141 0.039321
-0.030035 0.06613 0.038942
-0.026131 0.056531 0.038882
-0.031664 0.056657 0.037742
-0.045716 0.064541 0.039166
-0.051959 0.066869 0.036733
-0.042557 0.055545 0.039026
-0.049406 0.056892 0.034344
-0.0555 0.062391 0.029498
-0.05375 0.058574 0.026313
-0.03406 0.050137 0.038577
-0.041741 0.04959 0.03929
-0.050975 0.049435 0.036965
-0.053 0.051065 0.029209
-0.054145 0.054568 0.012257
-0.055848 0.05417 0.0083272
-0.054844 0.049295 0.011462
-0.05615 0.050619 0.0092929
-0.061451 0.068257 0.035376
-0.069725 0.069958 0.032788
-0.062823 0.063322 0.026886
-0.071037 0.066787 0.025228
-0.060857 0.060568 0.022643
-0.067 0.061558 0.020109
-0.0782 0.071279 0.021032
-0.062116 0.045145 0.037802
-0.065473 0.039513 0.037964
-0.06725 0.03742 0.033413
-0.072702 0.065008 0.018701
-0.06145 0.059165 0.018731
-0.0675 0.061479 0.019221
-0.057411 0.054114 0.0038257
-0.079222 0.070654 0.017735
-0.062473 0.04468 0.01111
-0.06725 0.042258 0.010414
-0.066389 0.040515 0.01316
-0.068359 0.038502 0.011958
-0.061381 0.04748 0.007607
-0.068559 0.043549 0.0081576
-0.070929 0.03983 0.0085888
-0.016625 0.18375 -0.019735
-0.015198 0.17471 -0.018868
-0.015944 0.16264 -0.0091037
-0.015977 0.1607 -0.0088072
-0.013251 0.16708 -0.015264
-0.014292 0.16098 -0.011252
-0.013986 0.184 -0.023739
-0.011633 0.17699 -0.023349
-0.0091029 0.16988 -0.021457
-0.025562 0.18273 -0.0096247
-0.02725 0.18254 -0.0094384
-0.025736 0.17948 -0.0089653
-0.031216 0.17589 -0.0051154
-0.020399 0.1845 -0.014943
-0.021339 0.17645 -0.014566
-0.027125 0.17234 -0.010156
-0.03939 0.1733 -0.0023575
-0.022876 0.16406 -0.0078103
-0.031597 0.16651 -0.0049292
-0.0226 0.15912 -0.003799
-0.030372 0.15767 -0.0012672
-0.021158 0.16849 -0.012383
-0.027 0.1712 -0.01022
-0.041719 0.16813 -0.00074958
-0.04825 0.16748 -0.00015191
-0.03725 0.16147 -7.2628e-05
-0.066429 0.15783 -0.0085673
-0.071284 0.15839 -0.005998
-0.065979 0.16288 -0.017792
-0.071623 0.16384 -0.01576
-0.066068 0.16051 -0.013567
-0.073307 0.16049 -0.011832
-0.077 0.16204 -0.019241
-0.077179 0.15851 -0.01495
-0.073691 0.17286 -0.037944
-0.07755 0.17221 -0.039175
-0.065921 0.16586 -0.025022
-0.072095 0.16784 -0.024725
-0.066 0.16808 -0.030916
-0.073448 0.17051 -0.032045
-0.07777 0.16434 -0.025938
-0.077893 0.16039 -0.021299
-0.078211 0.169 -0.034566
-0.034667 0.15131 -0.00071029
-0.066117 0.17353 -0.047453
-0.071986 0.17612 -0.045384
-0.06925 0.182 -0.055026
-0.064992 0.17802 -0.054645
-0.069935 0.17983 -0.051988
-0.07793 0.17516 -0.0444
</code></pre><p>生成项目，开始调试。<br><img src="/assets/img/PCL191/BUNNY.png" alt="BUNNY"><br>显示出CLOUD VIEWER窗口与其中的兔子，配置成功。</p>
<hr>
<p>参考博客</p>
<blockquote>
<p><a href="https://blog.csdn.net/xujie126/article/details/80452635" target="_blank" rel="noopener">https://blog.csdn.net/xujie126/article/details/80452635</a><br><a href="https://www.cnblogs.com/li-yao7758258/p/8066352.html" target="_blank" rel="noopener">https://www.cnblogs.com/li-yao7758258/p/8066352.html</a></p>
</blockquote>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Notes/" rel="tag"># Notes</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/08/30/20180830/" rel="next" title="Somethings">
                <i class="fa fa-chevron-left"></i> Somethings
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/07/21/20200721/" rel="prev" title="增材成形直壁的点云预处理">
                增材成形直壁的点云预处理 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Oerrol Song</p>
              <p class="site-description motion-element" itemprop="description">西安交通大学2011级少年班，西安交通大学电信学院2017届本科毕业，华中科技大学2017级研究生在读</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/oerrol" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:oerrol7@hotmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友情链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://647liusq.github.io/BLOG/" title="647" target="_blank">647</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://yxgao.xyz" title="DavidGogh" target="_blank">DavidGogh</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#安装"><span class="nav-number">1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置"><span class="nav-number">2.</span> <span class="nav-text">配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DEMO"><span class="nav-number">3.</span> <span class="nav-text">DEMO</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Oerrol Song</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: '1N77hwriqJgwfVWyXE3Xo5SJ-gzGzoHsz',
        appKey: 'DlQMiFKG1A104Nn5vSwGQEou',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("1N77hwriqJgwfVWyXE3Xo5SJ-gzGzoHsz", "DlQMiFKG1A104Nn5vSwGQEou");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  
  


  

  

</body>
</html>
